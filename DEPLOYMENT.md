# üöÄ FastQCLI Deployment Guide

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub Actions](#–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π-–¥–µ–ø–ª–æ–π-—á–µ—Ä–µ–∑-github-actions)
- [–†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π](#—Ä—É—á–Ω–æ–π-–¥–µ–ø–ª–æ–π)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-—Å–µ—Ä–≤–µ—Ä–∞)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [Troubleshooting](#troubleshooting)

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub Actions

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
–ü—Ä–∏ –∫–∞–∂–¥–æ–º –ø—É—à–µ –≤ –≤–µ—Ç–∫—É `master` GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã
2. –°–æ–∑–¥–∞–µ—Ç –ø–∞–∫–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets
–î–ª—è —Ä–∞–±–æ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `Settings` ‚Üí `Secrets and variables` ‚Üí `Actions`
2. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã:

| –°–µ–∫—Ä–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|--------|----------|---------|
| `SERVER_USER` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å SSH | `deploy` |
| `SERVER_HOST` | IP –∏–ª–∏ –¥–æ–º–µ–Ω —Å–µ—Ä–≤–µ—Ä–∞ | `192.168.1.100` |
| `SERVER_PATH` | –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | `/var/www/fastqcli` |
| `SERVER_SSH_KEY` | –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á | `-----BEGIN OPENSSH PRIVATE KEY-----...` |

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ GitHub Actions
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `Actions` ‚Üí `Deploy FastQCLI to Server`
2. –ù–∞–∂–º–∏—Ç–µ `Run workflow`
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ä–µ–¥—É (production/staging/development)
4. –ù–∞–∂–º–∏—Ç–µ `Run workflow`

## üõ†Ô∏è –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π

### –õ–æ–∫–∞–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π
```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/otinoff/QualityControlSuite.git
cd QualityControlSuite

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
python deploy_to_server.py /path/to/target/directory
```

### –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ –±–∞—Ç–Ω–∏–∫ (Windows)
```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/otinoff/QualityControlSuite.git
cd QualityControlSuite

# –ó–∞–ø—É—Å–∫–∞–µ–º –±–∞—Ç–Ω–∏–∫
deploy.bat
```

## üñ•Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
- Python 3.8+
- –î–æ—Å—Ç—É–ø –ø–æ SSH
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ (–º–∏–Ω–∏–º—É–º 1GB)
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (Ubuntu/Debian)
```bash
# –û–±–Ω–æ–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º—É
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Python –∏ Git
sudo apt install python3 python3-pip git -y

# –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –¥–µ–ø–ª–æ—è
sudo adduser deploy
sudo usermod -aG sudo deploy

# –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è deploy
su - deploy

# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
mkdir -p /var/www/fastqcli
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –¥–æ—Å—Ç—É–ø–∞
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è deploy)
mkdir -p ~/.ssh
chmod 700 ~/.ssh
touch ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys

# –î–æ–±–∞–≤—å—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤ authorized_keys
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.deploy_config` –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
```bash
SERVER_USER="deploy"
SERVER_HOST="your-server.com"
SERVER_PATH="/var/www/fastqcli"
SSH_KEY_PATH="~/.ssh/id_rsa"
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
export SERVER_USER="deploy"
export SERVER_HOST="your-server.com"
export SERVER_PATH="/var/www/fastqcli"
```

## üîß Troubleshooting

### –ü—Ä–æ–±–ª–µ–º—ã —Å SSH
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
ssh deploy@your-server.com

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–ª—é—á—É
chmod 600 ~/.ssh/id_rsa

# –ü–æ–¥—Ä–æ–±–Ω—ã–π –ª–æ–≥ SSH
ssh -v deploy@your-server.com
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤—Ä—É—á–Ω—É—é
pip install -r requirements.txt
pip install -r requirements_exe.txt
pip install sequali
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
ls -la /var/www/fastqcli

# –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞
sudo chown -R deploy:deploy /var/www/fastqcli
```

### –õ–æ–≥–∏ –¥–µ–ø–ª–æ—è
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ GitHub Actions
# –í —Ä–∞–∑–¥–µ–ª–µ Actions —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

# –õ–æ–∫–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏
tail -f /var/log/fastqcli/deploy.log
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
ps aux | grep fastqcli

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
netstat -tlnp | grep :8501
```

### –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
# –õ–æ–≥–∏ Streamlit
tail -f /var/log/fastqcli/streamlit.log

# –õ–æ–≥–∏ CLI
tail -f /var/log/fastqcli/cli.log
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /var/www/fastqcli
git pull origin master
pip install -r requirements.txt --user
```

### –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
cd /var/www/fastqcli
rm -rf fastqcli
mv fastqcli_backup fastqcli
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSH –∫–ª—é—á–∏ –≤–º–µ—Å—Ç–æ –ø–∞—Ä–æ–ª–µ–π
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä

### –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞ (UFW)
```bash
# –†–∞–∑—Ä–µ—à–∞–µ–º SSH –∏ HTTP/HTTPS
sudo ufw allow ssh
sudo ufw allow http
sudo ufw allow https

# –†–∞–∑—Ä–µ—à–∞–µ–º –ø–æ—Ä—Ç Streamlit (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8501)
sudo ufw allow 8501

# –í–∫–ª—é—á–∞–µ–º –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä
sudo ufw enable
```

---
**FastQCLI Deployment Guide** | ¬© 2025 TaskContract2025